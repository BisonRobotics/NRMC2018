#include "ros/ros.h"
#include "sensor_msgs/JointState.h"
#include "std_msgs/String.h"

ros::Publisher *pub;

const double bucket_positions[] = {
  1.329597, 1.333907, 1.338212, 1.342514, 1.346812, 1.351106, 1.355396, 1.359683, 1.363966, 1.368245, 1.372521,
  1.376794, 1.381063, 1.385328, 1.389590, 1.393849, 1.398105, 1.402357, 1.406606, 1.410852, 1.415094, 1.419334,
  1.423571, 1.427804, 1.432034, 1.436262, 1.440487, 1.444708, 1.448927, 1.453143, 1.457356, 1.461567, 1.465775,
  1.469980, 1.474182, 1.478382, 1.482579, 1.486774, 1.490966, 1.495155, 1.499342, 1.503527, 1.507709, 1.511889,
  1.516066, 1.520241, 1.524414, 1.528585, 1.532753, 1.536919, 1.541083, 1.545244, 1.549404, 1.553561, 1.557716,
  1.561869, 1.566020, 1.570169, 1.574316, 1.578461, 1.582604, 1.586745, 1.590884, 1.595021, 1.599156, 1.603290,
  1.607421, 1.611551, 1.615679, 1.619805, 1.623929, 1.628052, 1.632173, 1.636292, 1.640409, 1.644525, 1.648639,
  1.652752, 1.656862, 1.660972, 1.665079, 1.669185, 1.673290, 1.677392, 1.681494, 1.685594, 1.689692, 1.693789,
  1.697884, 1.701978, 1.706070, 1.710161, 1.714251, 1.718339, 1.722426, 1.726511, 1.730595, 1.734678, 1.738759,
  1.742839, 1.746918, 1.750996, 1.755072, 1.759146, 1.763220, 1.767292, 1.771363, 1.775433, 1.779501, 1.783568,
  1.787634, 1.791699, 1.795763, 1.799825, 1.803886, 1.807946, 1.812005, 1.816063, 1.820120, 1.824175, 1.828229,
  1.832282, 1.836334, 1.840385, 1.844435, 1.848484, 1.852531, 1.856578, 1.860623, 1.864667, 1.868710, 1.872752,
  1.876793, 1.880833, 1.884872, 1.888910, 1.892947, 1.896983, 1.901017, 1.905051, 1.909083, 1.913115, 1.917145,
  1.921175, 1.925203, 1.929230, 1.933257, 1.937282, 1.941306, 1.945329, 1.949351, 1.953372, 1.957392, 1.961412,
  1.965429, 1.969446, 1.973462, 1.977477, 1.981491, 1.985504, 1.989516, 1.993526, 1.997536, 2.001544, 2.005552,
  2.009558, 2.013564, 2.017568, 2.021571, 2.025573, 2.029574, 2.033574, 2.037573, 2.041571, 2.045568, 2.049563,
  2.053558, 2.057551, 2.061543, 2.065534, 2.069524, 2.073513, 2.077500, 2.081487, 2.085472, 2.089456, 2.093439,
  2.097421, 2.101401, 2.105380, 2.109358, 2.113335, 2.117310, 2.121284, 2.125257, 2.129229, 2.133199, 2.137168,
  2.141135, 2.145102, 2.149066, 2.153030, 2.156992, 2.160953, 2.164912, 2.168870, 2.172826, 2.176781, 2.180734,
  2.184686, 2.188636, 2.192585, 2.196532, 2.200478, 2.204422, 2.208364, 2.212305, 2.216244, 2.220181, 2.224116,
  2.228050, 2.231982, 2.235913, 2.239841, 2.243768, 2.247692, 2.251615, 2.255536, 2.259455, 2.263372, 2.267287,
  2.271200, 2.275111, 2.279020, 2.282926, 2.286831, 2.290733, 2.294633, 2.298531, 2.302426, 2.306320, 2.310210,
  2.314099, 2.317985, 2.321868, 2.325749, 2.329628, 2.333503, 2.337376, 2.341247, 2.345115, 2.348980, 2.352842,
  2.356701, 2.360557, 2.364411, 2.368261, 2.372108, 2.375953, 2.379794, 2.383631, 2.387466, 2.391297, 2.395125,
  2.398949, 2.402770, 2.406587, 2.410401, 2.414211, 2.418017, 2.421819, 2.425618, 2.429412, 2.433202, 2.436989,
  2.440771, 2.444549, 2.448322, 2.452091, 2.455856, 2.459616, 2.463372, 2.467122, 2.470868, 2.474609, 2.478345,
  2.482076, 2.485801, 2.489522, 2.493236, 2.496946, 2.500650, 2.504348, 2.508040, 2.511726, 2.515407, 2.519081,
  2.522749, 2.526410, 2.530065, 2.533713, 2.537355, 2.540989, 2.544617, 2.548237, 2.551850, 2.555456, 2.559054,
  2.562644, 2.566227, 2.569801, 2.573367, 2.576924, 2.580473, 2.584013, 2.587545, 2.591067, 2.594580, 2.598083,
  2.601577, 2.605061, 2.608534, 2.611998, 2.615451, 2.618893, 2.622324, 2.625744, 2.629153, 2.632550, 2.635935,
  2.639308, 2.642669, 2.646016, 2.649351, 2.652673, 2.655981, 2.659276, 2.662556, 2.665822, 2.669074, 2.672310,
  2.675531, 2.678736, 2.681926, 2.685099, 2.688255, 2.691395, 2.694516, 2.697621, 2.700706, 2.703774, 2.706822,
  2.709851, 2.712860, 2.715849, 2.718817, 2.721764, 2.724690, 2.727593, 2.730474, 2.733332, 2.736166, 2.738977,
  2.741762, 2.744523, 2.747258, 2.749967, 2.752649, 2.755304, 2.757931, 2.760530, 2.763100, 2.765640, 2.768149,
  2.770628, 2.773076, 2.775491, 2.777873, 2.780222, 2.782537, 2.784817, 2.787062, 2.789270, 2.791442, 2.793576,
  2.795672, 2.797728, 2.799746, 2.801722, 2.803658, 2.805552, 2.807403, 2.809212, 2.810976, 2.812695, 2.814369,
  2.815997, 2.817579, 2.819112, 2.820598, 2.822035, 2.823422, 2.824759, 2.826045, 2.827280, 2.828462, 2.829592,
  2.830669, 2.831692, 2.832661, 2.833575, 2.834433, 2.835236, 2.835982, 2.836672, 2.837305, 2.837880, 2.838397,
  2.838857, 2.839258, 2.839601, 2.839884, 2.840109, 2.840275, 2.840382, 2.840430, 2.840418, 2.840347, 2.840217,
  2.840028, 2.839780, 2.839473, 2.839107, 2.838683, 2.838200, 2.837660, 2.837062, 2.836407, 2.835695, 2.834926,
  2.834102, 2.833221, 2.832286, 2.831296, 2.830251, 2.829154, 2.828003, 2.826800, 2.825544, 2.824238, 2.822881,
  2.821475, 2.820019, 2.818514, 2.816961, 2.815362, 2.813715, 2.812023, 2.810286, 2.808505, 2.806679, 2.804811,
  2.802901, 2.800949, 2.798956, 2.796923, 2.794851, 2.792740, 2.790591, 2.788405, 2.786182, 2.783923, 2.781629,
  2.779301, 2.776939, 2.774543, 2.772115, 2.769656, 2.767164, 2.764643, 2.762091, 2.759510, 2.756900, 2.754262,
  2.751596, 2.748903, 2.746184, 2.743439, 2.740668, 2.737873, 2.735053, 2.732209, 2.729342, 2.726452, 2.723540,
  2.720606, 2.717651, 2.714674, 2.711677, 2.708660, 2.705624, 2.702568, 2.699493, 2.696400, 2.693289, 2.690160,
  2.687014, 2.683851, 2.680672, 2.677476, 2.674264, 2.671037, 2.667795, 2.664538, 2.661266, 2.657980, 2.654680,
  2.651366, 2.648039, 2.644699, 2.641346, 2.637981, 2.634603, 2.631213, 2.627812, 2.624398, 2.620974, 2.617538,
  2.614092, 2.610635, 2.607167, 2.603690, 2.600202, 2.596704, 2.593197, 2.589681, 2.586155, 2.582620, 2.579076,
  2.575524, 2.571963, 2.568394, 2.564816, 2.561231, 2.557638, 2.554037, 2.550428, 2.546812, 2.543189, 2.539559,
  2.535921, 2.532277, 2.528626, 2.524969, 2.521305, 2.517634, 2.513958, 2.510275, 2.506586, 2.502892, 2.499191,
  2.495485, 2.491774, 2.488057, 2.484334, 2.480607, 2.476874, 2.473136, 2.469393, 2.465645, 2.461893, 2.458136,
  2.454374, 2.450607, 2.446837, 2.443061, 2.439282, 2.435498, 2.431710, 2.427918, 2.424122, 2.420322, 2.416518,
  2.412710, 2.408899, 2.405084, 2.401265, 2.397443, 2.393617, 2.389788, 2.385956, 2.382120, 2.378281, 2.374439,
  2.370593, 2.366745, 2.362893, 2.359039, 2.355181, 2.351321, 2.347458, 2.343592, 2.339723, 2.335851, 2.331977,
  2.328100, 2.324221, 2.320339, 2.316454, 2.312567, 2.308678, 2.304786, 2.300892, 2.296996, 2.293097, 2.289196,
  2.285293, 2.281388, 2.277480, 2.273571, 2.269659, 2.265745, 2.261829, 2.257912, 2.253992, 2.250070, 2.246147,
  2.242221, 2.238294, 2.234365, 2.230434, 2.226501, 2.222566, 2.218630, 2.214692, 2.210753, 2.206811, 2.202868,
  2.198924, 2.194978, 2.191030, 2.187080, 2.183130, 2.179177, 2.175223, 2.171268, 2.167311, 2.163353, 2.159393,
  2.155432, 2.151469, 2.147505, 2.143540, 2.139573, 2.135605, 2.131635, 2.127665, 2.123692, 2.119719, 2.115744,
  2.111769, 2.107791, 2.103813, 2.099833, 2.095852, 2.091870, 2.087887, 2.083903, 2.079917, 2.075930, 2.071942,
  2.067953, 2.063962, 2.059971, 2.055978, 2.051985, 2.047990, 2.043994, 2.039997, 2.035998, 2.031999, 2.027999,
  2.023997, 2.019995, 2.015991, 2.011986, 2.007980, 2.003973, 1.999966, 1.995957, 1.991947, 1.987935, 1.983923,
  1.979910, 1.975896, 1.971881, 1.967864, 1.963847, 1.959829, 1.955809, 1.951789, 1.947767, 1.943745, 1.939721,
  1.935696, 1.931671, 1.927644, 1.923616, 1.919588, 1.915558, 1.911527, 1.907495, 1.903462, 1.899428, 1.895393,
  1.891357, 1.887320, 1.883282, 1.879242, 1.875202, 1.871160, 1.867118, 1.863074, 1.859030, 1.854984, 1.850937,
  1.846889, 1.842840, 1.838790, 1.834738, 1.830686, 1.826632, 1.822578, 1.818522, 1.814465, 1.810407, 1.806347,
  1.802287, 1.798225, 1.794162, 1.790098, 1.786033, 1.781967, 1.777899, 1.773830, 1.769760, 1.765688, 1.761615,
  1.757541, 1.753466, 1.749390, 1.745312, 1.741233, 1.737152, 1.733070, 1.728987, 1.724902, 1.720816, 1.716729,
  1.712640, 1.708550, 1.704459, 1.700366, 1.696271, 1.692175, 1.688078, 1.683979, 1.679879, 1.675777, 1.671673,
  1.667568, 1.663461, 1.659353, 1.655243, 1.651132, 1.647019, 1.642904, 1.638788, 1.634670, 1.630550, 1.626428,
  1.622305, 1.618180, 1.614053, 1.609925, 1.605794, 1.601662, 1.597528, 1.593392, 1.589254, 1.585114, 1.580972,
  1.576829, 1.572683, 1.568535, 1.564385, 1.560234, 1.556080, 1.551924, 1.547766, 1.543605, 1.539443, 1.535278,
  1.531111, 1.526942, 1.522771, 1.518597, 1.514421, 1.510243, 1.506062, 1.501879, 1.497693, 1.493505, 1.489315,
  1.485122, 1.480926, 1.476728, 1.472527, 1.468324, 1.464118, 1.459909, 1.455697, 1.451483, 1.447266, 1.443046,
  1.438823, 1.434597, 1.430369, 1.426137, 1.421902, 1.417664, 1.413424, 1.409180, 1.404933, 1.400682, 1.396429,
  1.392172, 1.387912, 1.383648, 1.379382, 1.375111, 1.370837, 1.366560, 1.362279, 1.357995, 1.353707, 1.349415,
  1.345119, 1.340820, 1.336517, 1.332210, 1.327899, 1.323583, 1.319264, 1.314941, 1.310614, 1.306283, 1.301947,
  1.297607, 1.293262, 1.288914, 1.284560, 1.280203, 1.275840, 1.271473, 1.267102, 1.262725, 1.258344, 1.253958,
  1.249567, 1.245171, 1.240770, 1.236364, 1.231952, 1.227535, 1.223113, 1.218686, 1.214253, 1.209814, 1.205370,
  1.200920, 1.196465, 1.192003, 1.187536, 1.183063, 1.178583, 1.174097, 1.169605, 1.165107, 1.160602, 1.156091,
  1.151573, 1.147049, 1.142517, 1.137979, 1.133434, 1.128881, 1.124322, 1.119755, 1.115181, 1.110599, 1.106010,
  1.101413, 1.096808, 1.092195, 1.087574, 1.082945, 1.078308, 1.073662, 1.069008, 1.064345, 1.059674, 1.054993,
  1.050303, 1.045605, 1.040896, 1.036179, 1.031452, 1.026715, 1.021968, 1.017211, 1.012444, 1.007666, 1.002878,
  0.998079, 0.993270, 0.988449, 0.983617, 0.978774, 0.973919, 0.969052, 0.964173, 0.959282, 0.954379, 0.949463,
  0.944535, 0.939593, 0.934638, 0.929670, 0.924687, 0.919691, 0.914681, 0.909656, 0.904617, 0.899563, 0.894493,
  0.889408, 0.884307, 0.879190, 0.874057, 0.868907, 0.863740, 0.858556, 0.853354, 0.848134, 0.842895, 0.837638,
  0.832362, 0.827066, 0.821751, 0.816415, 0.811058, 0.805681, 0.800282, 0.794860, 0.789417, 0.783950, 0.778460,
  0.772946, 0.767407, 0.761843, 0.756254, 0.750638, 0.744995, 0.739325, 0.733627, 0.727900, 0.722143, 0.716356,
  0.710538, 0.704688, 0.698806, 0.692890, 0.686939, 0.680953, 0.674931, 0.668872, 0.662774, 0.656637, 0.650460,
  0.644241, 0.637978, 0.631672, 0.625320, 0.618920, 0.612473, 0.605975, 0.599425, 0.592822, 0.586163
};
const double backhoe_bucket_positions[] = {
  1.352522, 1.355109, 1.357690, 1.360263, 1.362830, 1.365390, 1.367943, 1.370490, 1.373030, 1.375564, 1.378092,
  1.380613, 1.383129, 1.385638, 1.388141, 1.390639, 1.393131, 1.395617, 1.398097, 1.400572, 1.403041, 1.405505,
  1.407963, 1.410417, 1.412865, 1.415307, 1.417745, 1.420178, 1.422606, 1.425029, 1.427447, 1.429860, 1.432268,
  1.434672, 1.437072, 1.439466, 1.441857, 1.444242, 1.446624, 1.449001, 1.451374, 1.453742, 1.456107, 1.458467,
  1.460823, 1.463175, 1.465523, 1.467868, 1.470208, 1.472544, 1.474877, 1.477206, 1.479531, 1.481853, 1.484170,
  1.486485, 1.488795, 1.491103, 1.493406, 1.495707, 1.498004, 1.500297, 1.502588, 1.504875, 1.507158, 1.509439,
  1.511716, 1.513991, 1.516262, 1.518530, 1.520795, 1.523057, 1.525316, 1.527572, 1.529826, 1.532076, 1.534324,
  1.536568, 1.538810, 1.541050, 1.543286, 1.545520, 1.547751, 1.549980, 1.552206, 1.554429, 1.556650, 1.558869,
  1.561085, 1.563298, 1.565509, 1.567718, 1.569924, 1.572128, 1.574329, 1.576529, 1.578726, 1.580921, 1.583113,
  1.585303, 1.587492, 1.589678, 1.591861, 1.594043, 1.596223, 1.598401, 1.600576, 1.602750, 1.604921, 1.607091,
  1.609259, 1.611424, 1.613588, 1.615750, 1.617910, 1.620068, 1.622225, 1.624379, 1.626532, 1.628683, 1.630833,
  1.632980, 1.635126, 1.637270, 1.639413, 1.641554, 1.643693, 1.645831, 1.647967, 1.650101, 1.652234, 1.654366,
  1.656496, 1.658624, 1.660751, 1.662876, 1.665000, 1.667123, 1.669244, 1.671364, 1.673482, 1.675599, 1.677714,
  1.679829, 1.681942, 1.684053, 1.686164, 1.688273, 1.690380, 1.692487, 1.694592, 1.696697, 1.698799, 1.700901,
  1.703002, 1.705101, 1.707200, 1.709297, 1.711393, 1.713488, 1.715582, 1.717674, 1.719766, 1.721857, 1.723947,
  1.726035, 1.728123, 1.730210, 1.732295, 1.734380, 1.736464, 1.738547, 1.740629, 1.742710, 1.744790, 1.746869,
  1.748948, 1.751025, 1.753102, 1.755178, 1.757253, 1.759327, 1.761400, 1.763473, 1.765545, 1.767616, 1.769686,
  1.771756, 1.773825, 1.775893, 1.777960, 1.780027, 1.782093, 1.784159, 1.786224, 1.788288, 1.790351, 1.792414,
  1.794476, 1.796538, 1.798599, 1.800660, 1.802719, 1.804779, 1.806838, 1.808896, 1.810954, 1.813011, 1.815068,
  1.817124, 1.819179, 1.821235, 1.823289, 1.825344, 1.827398, 1.829451, 1.831504, 1.833557, 1.835609, 1.837661,
  1.839712, 1.841763, 1.843814, 1.845864, 1.847914, 1.849964, 1.852013, 1.854062, 1.856110, 1.858159, 1.860207,
  1.862255, 1.864302, 1.866349, 1.868396, 1.870443, 1.872490, 1.874536, 1.876582, 1.878628, 1.880673, 1.882719,
  1.884764, 1.886809, 1.888854, 1.890899, 1.892943, 1.894988, 1.897032, 1.899076, 1.901120, 1.903164, 1.905208,
  1.907252, 1.909296, 1.911339, 1.913383, 1.915426, 1.917470, 1.919513, 1.921556, 1.923600, 1.925643, 1.927686,
  1.929730, 1.931773, 1.933816, 1.935860, 1.937903, 1.939947, 1.941990, 1.944034, 1.946077, 1.948121, 1.950165,
  1.952209, 1.954253, 1.956297, 1.958341, 1.960385, 1.962430, 1.964474, 1.966519, 1.968564, 1.970609, 1.972654,
  1.974699, 1.976745, 1.978790, 1.980836, 1.982882, 1.984929, 1.986975, 1.989022, 1.991069, 1.993116, 1.995164,
  1.997211, 1.999259, 2.001308, 2.003356, 2.005405, 2.007454, 2.009503, 2.011553, 2.013603, 2.015654, 2.017704,
  2.019755, 2.021807, 2.023858, 2.025910, 2.027963, 2.030016, 2.032069, 2.034122, 2.036176, 2.038231, 2.040285,
  2.042340, 2.044396, 2.046452, 2.048508, 2.050565, 2.052623, 2.054680, 2.056739, 2.058797, 2.060857, 2.062916,
  2.064977, 2.067037, 2.069098, 2.071160, 2.073222, 2.075285, 2.077348, 2.079412, 2.081476, 2.083541, 2.085607,
  2.087673, 2.089739, 2.091807, 2.093874, 2.095943, 2.098012, 2.100081, 2.102151, 2.104222, 2.106294, 2.108366,
  2.110438, 2.112512, 2.114586, 2.116660, 2.118736, 2.120812, 2.122889, 2.124966, 2.127044, 2.129123, 2.131202,
  2.133283, 2.135363, 2.137445, 2.139528, 2.141611, 2.143695, 2.145779, 2.147865, 2.149951, 2.152038, 2.154126,
  2.156214, 2.158303, 2.160394, 2.162485, 2.164576, 2.166669, 2.168762, 2.170857, 2.172952, 2.175048, 2.177145,
  2.179242, 2.181341, 2.183440, 2.185541, 2.187642, 2.189744, 2.191847, 2.193951, 2.196056, 2.198162, 2.200268,
  2.202376, 2.204484, 2.206594, 2.208705, 2.210816, 2.212928, 2.215042, 2.217156, 2.219272, 2.221388, 2.223506,
  2.225624, 2.227743, 2.229864, 2.231985, 2.234108, 2.236232, 2.238356, 2.240482, 2.242609, 2.244737, 2.246866,
  2.248996, 2.251127, 2.253259, 2.255392, 2.257527, 2.259662, 2.261799, 2.263937, 2.266076, 2.268216, 2.270357,
  2.272500, 2.274643, 2.276788, 2.278934, 2.281082, 2.283230, 2.285380, 2.287530, 2.289682, 2.291836, 2.293990,
  2.296146, 2.298303, 2.300461, 2.302621, 2.304781, 2.306944, 2.309107, 2.311272, 2.313437, 2.315605, 2.317773,
  2.319943, 2.322114, 2.324287, 2.326461, 2.328636, 2.330813, 2.332991, 2.335170, 2.337351, 2.339533, 2.341716,
  2.343901, 2.346087, 2.348275, 2.350464, 2.352655, 2.354847, 2.357040, 2.359235, 2.361431, 2.363629, 2.365828,
  2.368029, 2.370231, 2.372435, 2.374640, 2.376847, 2.379055, 2.381265, 2.383476, 2.385689, 2.387903, 2.390119,
  2.392337, 2.394556, 2.396777, 2.398999, 2.401223, 2.403448, 2.405675, 2.407904, 2.410134, 2.412366, 2.414599,
  2.416835, 2.419072, 2.421310, 2.423550, 2.425792, 2.428036, 2.430281, 2.432528, 2.434776, 2.437027, 2.439279,
  2.441533, 2.443788, 2.446045, 2.448305, 2.450565, 2.452828, 2.455092, 2.457358, 2.459626, 2.461896, 2.464168,
  2.466441, 2.468716, 2.470993, 2.473272, 2.475553, 2.477836, 2.480120, 2.482407, 2.484695, 2.486985, 2.489277,
  2.491571, 2.493867, 2.496165, 2.498464, 2.500766, 2.503070, 2.505375, 2.507683, 2.509992, 2.512304, 2.514618,
  2.516933, 2.519251, 2.521570, 2.523892, 2.526215, 2.528541, 2.530869, 2.533199, 2.535531, 2.537865, 2.540201,
  2.542539, 2.544879, 2.547222, 2.549566, 2.551913, 2.554262, 2.556613, 2.558966, 2.561321, 2.563678, 2.566038,
  2.568400, 2.570764, 2.573130, 2.575499, 2.577870, 2.580243, 2.582618, 2.584995, 2.587375, 2.589757, 2.592142,
  2.594528, 2.596917, 2.599309, 2.601702, 2.604098, 2.606497, 2.608898, 2.611301, 2.613706, 2.616114, 2.618524,
  2.620937, 2.623352, 2.625769, 2.628189, 2.630612, 2.633037, 2.635464, 2.637894, 2.640326, 2.642761, 2.645198,
  2.647638, 2.650080, 2.652525, 2.654973, 2.657423, 2.659875, 2.662330, 2.664788, 2.667249, 2.669711, 2.672177,
  2.674645, 2.677116, 2.679590, 2.682066, 2.684545, 2.687026, 2.689510, 2.691997, 2.694487, 2.696979, 2.699475,
  2.701972, 2.704473, 2.706977, 2.709483, 2.711992, 2.714504, 2.717018, 2.719536, 2.722056, 2.724579, 2.727105,
  2.729634, 2.732166, 2.734700, 2.737238, 2.739779, 2.742322, 2.744868, 2.747418, 2.749970, 2.752525, 2.755084,
  2.757645, 2.760209, 2.762776, 2.765347, 2.767920, 2.770497, 2.773076, 2.775659, 2.778244, 2.780833, 2.783425,
  2.786020, 2.788619, 2.791220, 2.793825, 2.796432, 2.799043, 2.801657, 2.804275, 2.806895, 2.809519, 2.812146,
  2.814777, 2.817410, 2.820047, 2.822688, 2.825331, 2.827978, 2.830629, 2.833282, 2.835939, 2.838600, 2.841264,
  2.843931, 2.846602, 2.849276, 2.851953, 2.854634, 2.857319, 2.860007, 2.862699, 2.865394, 2.868092, 2.870794,
  2.873500, 2.876209, 2.878922, 2.881639, 2.884359, 2.887083, 2.889810, 2.892541, 2.895276, 2.898015, 2.900757,
  2.903503, 2.906252, 2.909006, 2.911763, 2.914524, 2.917289, 2.920057, 2.922830, 2.925606, 2.928386, 2.931170,
  2.933958, 2.936750, 2.939545, 2.942345, 2.945149, 2.947956, 2.950768, 2.953583, 2.956403, 2.959226, 2.962054,
  2.964885, 2.967721, 2.970561, 2.973405, 2.976253, 2.979105, 2.981961, 2.984822, 2.987686, 2.990555, 2.993428,
  2.996305, 2.999187, 3.002073, 3.004963, 3.007857, 3.010756, 3.013659, 3.016567, 3.019478, 3.022395, 3.025315,
  3.028240, 3.031170, 3.034103, 3.037042, 3.039985, 3.042932, 3.045884, 3.048840, 3.051801, 3.054767, 3.057737,
  3.060712, 3.063691, 3.066675, 3.069664, 3.072657, 3.075656, 3.078658, 3.081666, 3.084678, 3.087695, 3.090717,
  3.093744, 3.096776, 3.099812, 3.102853, 3.105900, 3.108951, 3.112007, 3.115068, 3.118134, 3.121204, 3.124280,
  3.127361, 3.130447, 3.133538, 3.136635, 3.139736, 3.142842, 3.145954, 3.149070, 3.152192, 3.155319, 3.158452,
  3.161589, 3.164732, 3.167880, 3.171034, 3.174192, 3.177356, 3.180526, 3.183701, 3.186881, 3.190067, 3.193258,
  3.196454, 3.199657, 3.202864, 3.206077, 3.209296, 3.212520, 3.215750, 3.218986, 3.222227, 3.225474, 3.228726,
  3.231985, 3.235249, 3.238518, 3.241794, 3.245075, 3.248362, 3.251655, 3.254954, 3.258259, 3.261570, 3.264886,
  3.268209, 3.271538, 3.274872, 3.278213, 3.281559, 3.284912, 3.288271, 3.291636, 3.295007, 3.298384, 3.301768,
  3.305158, 3.308554, 3.311956, 3.315364, 3.318779, 3.322200, 3.325628, 3.329062, 3.332502, 3.335949, 3.339402,
  3.342862, 3.346328, 3.349801, 3.353280, 3.356766, 3.360258, 3.363758, 3.367263, 3.370776, 3.374295, 3.377821,
  3.381354, 3.384893, 3.388440, 3.391993, 3.395553, 3.399120, 3.402694, 3.406275, 3.409862, 3.413457, 3.417059,
  3.420668, 3.424284, 3.427907, 3.431537, 3.435174, 3.438819, 3.442471, 3.446130, 3.449796, 3.453469, 3.457150,
  3.460838, 3.464534, 3.468237, 3.471947, 3.475665, 3.479390, 3.483123, 3.486864, 3.490612, 3.494367, 3.498130,
  3.501901, 3.505680, 3.509466, 3.513260, 3.517062, 3.520871, 3.524689, 3.528514, 3.532347, 3.536188, 3.540037,
  3.543894, 3.547759, 3.551632, 3.555513, 3.559402, 3.563299, 3.567204, 3.571118, 3.575039, 3.578969, 3.582907,
  3.586854, 3.590809, 3.594772, 3.598743, 3.602723, 3.606711, 3.610708, 3.614713, 3.618727, 3.622749, 3.626780,
  3.630820, 3.634868, 3.638925, 3.642990, 3.647065, 3.651148, 3.655239, 3.659340, 3.663449, 3.667568, 3.671695,
  3.675831, 3.679976, 3.684131, 3.688294, 3.692466, 3.696647, 3.700838, 3.705037, 3.709246, 3.713464, 3.717691,
  3.721928, 3.726174, 3.730429, 3.734693, 3.738967, 3.743250, 3.747543, 3.751845, 3.756157, 3.760478, 3.764809,
  3.769150, 3.773500, 3.777859, 3.782229, 3.786608, 3.790997, 3.795396, 3.799804, 3.804222, 3.808650, 3.813089,
  3.817536, 3.821994, 3.826462, 3.830940, 3.835428, 3.839926, 3.844434, 3.848953, 3.853481, 3.858020, 3.862569,
  3.867128, 3.871697, 3.876277, 3.880867, 3.885467, 3.890078, 3.894699, 3.899330, 3.903972, 3.908625, 3.913288,
  3.917962, 3.922646, 3.927341, 3.932046, 3.936762, 3.941489, 3.946227, 3.950975, 3.955734, 3.960504, 3.965284,
  3.970076, 3.974878, 3.979692, 3.984516, 3.989351, 3.994197, 3.999054, 4.003922, 4.008802, 4.013692
};

using sensor_msgs::JointState;

void jointStatesCallback(const JointState::ConstPtr &msg)
{
  JointState bucket_joint_state;
  bool update = false;
  for (int i = 0; i < msg->name.size(); i++)
  {
    if (msg->name[i] == "central_drive_to_monoboom")
    {
      // Calculate closest match to position
      update = true;
      int index;
      if (msg->position[i] <= 1e-5)  // If equal to or less than zero
      {
        index = 0;
      }
      else if (msg->position[i] - 3.14 >= 1e-5)  // If greater than or equal to 3.14
      {
        index = 999;
      }
      else
      {
        index = (int)ceil(msg->position[i] / 0.003145);
      }
      // Output bucket joint state accordingly
      bucket_joint_state.name.emplace_back("frame_to_bucket");
      bucket_joint_state.position.push_back(bucket_positions[index]);
      bucket_joint_state.effort.push_back(0.0);    // TODO Add
      bucket_joint_state.velocity.push_back(0.0);  // TODO Add
      bucket_joint_state.header = msg->header;
      // ROS_INFO("Backhoe: %f, Bucket: %f", msg->position[i], bucket_positions[index]);
    }
    else if (msg->name[i] == "monoboom_actuator")
    {
      // Calculate closest match to position
      update = true;
      int index;
      if (msg->position[i] <= 1e-5)  // If equal to or less than zero
      {
        index = 0;
      }
      else if (msg->position[i] - 0.1778 >= 1e-5)  // If greater than or equal to 7in
      {
        index = 999;
      }
      else
      {
        index = (int)ceil(msg->position[i] / 0.000178);
      }
      // Output bucket joint state accordingly
      bucket_joint_state.name.emplace_back("monoboom_to_backhoe_bucket");
      bucket_joint_state.position.emplace_back(backhoe_bucket_positions[index]);
      bucket_joint_state.effort.emplace_back(0.0);    // TODO Add
      bucket_joint_state.velocity.emplace_back(0.0);  // TODO Add
      bucket_joint_state.header = msg->header;
      // ROS_INFO("Monoboom Actuator: %f, Backhoe Bucket: %f", msg->position[i], backhoe_bucket_positions[index]);
    }
  }
  if (update)
  {
    pub->publish(bucket_joint_state);
  }
}

int main(int argc, char **argv)
{
  ros::init(argc, argv, "backhoe_bucket_mapping");
  ros::NodeHandle nh;
  ros::NodeHandle local_nh("~");
  bool test_urdf = false;
  if (local_nh.getParam("test_urdf", test_urdf) && test_urdf)
  {
    pub = new ros::Publisher(nh.advertise<sensor_msgs::JointState>("bucket_joint_states", 1000));
  }
  else
  {
    pub = new ros::Publisher(nh.advertise<sensor_msgs::JointState>("joint_states", 1000));
  }
  ros::Subscriber sub = nh.subscribe("joint_states", 1000, jointStatesCallback);
  ros::spin();

  return 0;
}